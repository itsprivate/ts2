import { log } from "../../deps.ts";
await log.setup({
    handlers: {
        default: new log.handlers.ConsoleHandler("DEBUG", {
            formatter: "{levelName} {msg}",
        }),
    },
    loggers: {
        default: {
            handlers: ["default"],
            level: "INFO",
        },
    },
});
export function getReporter(name, debug) {
    const reporter = log.getLogger(name);
    reporter.level = debug ? log.LogLevels.DEBUG : log.LogLevels.INFO;
    reporter.handlers = [
        new log.handlers.ConsoleHandler("DEBUG", {
            formatter: (logRecord) => {
                const { levelName, loggerName, msg, datetime, } = logRecord;
                let finalMsg = "";
                finalMsg += `[${levelName} ${datetime.toLocaleString()} `;
                finalMsg += `${loggerName}] ${msg} `;
                logRecord.args.forEach((arg, index) => {
                    finalMsg += `, arg${index}: ${arg}`;
                });
                return finalMsg;
            },
        }),
    ];
    return reporter;
}
export default log.getLogger();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicmVwb3J0LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsicmVwb3J0LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxHQUFHLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFFcEMsTUFBTSxHQUFHLENBQUMsS0FBSyxDQUFDO0lBQ2QsUUFBUSxFQUFFO1FBQ1IsT0FBTyxFQUFFLElBQUksR0FBRyxDQUFDLFFBQVEsQ0FBQyxjQUFjLENBQUMsT0FBTyxFQUFFO1lBQ2hELFNBQVMsRUFBRSxtQkFBbUI7U0FDL0IsQ0FBQztLQUNIO0lBRUQsT0FBTyxFQUFFO1FBRVAsT0FBTyxFQUFFO1lBQ1AsUUFBUSxFQUFFLENBQUMsU0FBUyxDQUFDO1lBQ3JCLEtBQUssRUFBRSxNQUFNO1NBQ2Q7S0FDRjtDQUNGLENBQUMsQ0FBQztBQUNILE1BQU0sVUFBVSxXQUFXLENBQ3pCLElBQVksRUFDWixLQUFjO0lBRWQsTUFBTSxRQUFRLEdBQUcsR0FBRyxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsQ0FBQztJQUVyQyxRQUFRLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDO0lBQ2xFLFFBQVEsQ0FBQyxRQUFRLEdBQUc7UUFDbEIsSUFBSSxHQUFHLENBQUMsUUFBUSxDQUFDLGNBQWMsQ0FBQyxPQUFPLEVBQUU7WUFDdkMsU0FBUyxFQUFFLENBQUMsU0FBUyxFQUFFLEVBQUU7Z0JBQ3ZCLE1BQU0sRUFDSixTQUFTLEVBQ1QsVUFBVSxFQUNWLEdBQUcsRUFDSCxRQUFRLEdBQ1QsR0FBRyxTQUFTLENBQUM7Z0JBQ2QsSUFBSSxRQUFRLEdBQUcsRUFBRSxDQUFDO2dCQUNsQixRQUFRLElBQUksSUFBSSxTQUFTLElBQUksUUFBUSxDQUFDLGNBQWMsRUFBRSxHQUFHLENBQUM7Z0JBRTFELFFBQVEsSUFBSSxHQUFHLFVBQVUsS0FBSyxHQUFHLEdBQUcsQ0FBQztnQkFFckMsU0FBUyxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQyxHQUFHLEVBQUUsS0FBSyxFQUFFLEVBQUU7b0JBQ3BDLFFBQVEsSUFBSSxRQUFRLEtBQUssS0FBSyxHQUFHLEVBQUUsQ0FBQztnQkFDdEMsQ0FBQyxDQUFDLENBQUM7Z0JBRUgsT0FBTyxRQUFRLENBQUM7WUFDbEIsQ0FBQztTQUNGLENBQUM7S0FDSCxDQUFDO0lBQ0YsT0FBTyxRQUFRLENBQUM7QUFDbEIsQ0FBQztBQUNELGVBQWUsR0FBRyxDQUFDLFNBQVMsRUFBRSxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgbG9nIH0gZnJvbSBcIi4uLy4uL2RlcHMudHNcIjtcblxuYXdhaXQgbG9nLnNldHVwKHtcbiAgaGFuZGxlcnM6IHtcbiAgICBkZWZhdWx0OiBuZXcgbG9nLmhhbmRsZXJzLkNvbnNvbGVIYW5kbGVyKFwiREVCVUdcIiwge1xuICAgICAgZm9ybWF0dGVyOiBcIntsZXZlbE5hbWV9IHttc2d9XCIsXG4gICAgfSksXG4gIH0sXG5cbiAgbG9nZ2Vyczoge1xuICAgIC8vIGNvbmZpZ3VyZSBkZWZhdWx0IGxvZ2dlciBhdmFpbGFibGUgdmlhIHNob3J0LWhhbmQgbWV0aG9kcyBhYm92ZS5cbiAgICBkZWZhdWx0OiB7XG4gICAgICBoYW5kbGVyczogW1wiZGVmYXVsdFwiXSxcbiAgICAgIGxldmVsOiBcIklORk9cIixcbiAgICB9LFxuICB9LFxufSk7XG5leHBvcnQgZnVuY3Rpb24gZ2V0UmVwb3J0ZXIoXG4gIG5hbWU6IHN0cmluZyxcbiAgZGVidWc6IGJvb2xlYW4sXG4pOiBsb2cuTG9nZ2VyIHtcbiAgY29uc3QgcmVwb3J0ZXIgPSBsb2cuZ2V0TG9nZ2VyKG5hbWUpO1xuXG4gIHJlcG9ydGVyLmxldmVsID0gZGVidWcgPyBsb2cuTG9nTGV2ZWxzLkRFQlVHIDogbG9nLkxvZ0xldmVscy5JTkZPO1xuICByZXBvcnRlci5oYW5kbGVycyA9IFtcbiAgICBuZXcgbG9nLmhhbmRsZXJzLkNvbnNvbGVIYW5kbGVyKFwiREVCVUdcIiwge1xuICAgICAgZm9ybWF0dGVyOiAobG9nUmVjb3JkKSA9PiB7XG4gICAgICAgIGNvbnN0IHtcbiAgICAgICAgICBsZXZlbE5hbWUsXG4gICAgICAgICAgbG9nZ2VyTmFtZSxcbiAgICAgICAgICBtc2csXG4gICAgICAgICAgZGF0ZXRpbWUsXG4gICAgICAgIH0gPSBsb2dSZWNvcmQ7XG4gICAgICAgIGxldCBmaW5hbE1zZyA9IFwiXCI7XG4gICAgICAgIGZpbmFsTXNnICs9IGBbJHtsZXZlbE5hbWV9ICR7ZGF0ZXRpbWUudG9Mb2NhbGVTdHJpbmcoKX0gYDtcblxuICAgICAgICBmaW5hbE1zZyArPSBgJHtsb2dnZXJOYW1lfV0gJHttc2d9IGA7XG5cbiAgICAgICAgbG9nUmVjb3JkLmFyZ3MuZm9yRWFjaCgoYXJnLCBpbmRleCkgPT4ge1xuICAgICAgICAgIGZpbmFsTXNnICs9IGAsIGFyZyR7aW5kZXh9OiAke2FyZ31gO1xuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gZmluYWxNc2c7XG4gICAgICB9LFxuICAgIH0pLFxuICBdO1xuICByZXR1cm4gcmVwb3J0ZXI7XG59XG5leHBvcnQgZGVmYXVsdCBsb2cuZ2V0TG9nZ2VyKCk7XG4iXX0=