{
  "@type": "NewsArticle",
  "identifier": "2022--05--02--en--myfeed--HackerNews--NewsArticle--31231760",
  "url": "https://news.ycombinator.com/item?id=31231760",
  "headline": "AWS RDS Postmortem Is AWS Starting to Decline?",
  "publisher": {
    "@type": "Organization",
    "name": "HackerNews",
    "url": "https://news.ycombinator.com",
    "logo": "https://hn.buzzing.cc/avatar.png"
  },
  "description": "Hi everyone,<p>I have been working with AWS with many years and the service over the years has been outstanding. A few months ago I started the migration of (yet another business) to AWS, and we had an incident. This made me think that maybe AWS is starting not to be good any more.<p>I would like to share the postmortem report with the community, and please comment on what you think. I would like to know if we made a fundamental mistake or if AWS is actually degrading.<p>Times are UTC. Personal opinions are removed from the report, just facts are stated.<p>----------\nPOSTMORTEM REPORT<p>The project consists on moving several services to AWS. The system consists  Services in 1 autoscaling group, and a PostgreSQL Database in RDS.<p>- Sunday 4.30 am: we migrate the PostgreSQL database to RDS. RDS is configured with 200 GB in the disk, the database size is 15 GB.<p>- Sunday 10.17 am: RDS detects that we are running out of space, and decides to grow the database from 200 GB to 999 GB. The RDS auto scaling event starts<p>At this point the performance if the database is degraded. Alerts are triggered.<p>A test performed from the VPC network with the query &quot;SELECT now()&quot; took 20 seconds and 248 milliseconds.<p>The database performance is that bad that many of the services goes down.<p>- The RDS auto scaling event finalized at 14:39.<p>After contacting with AWS Support (see details below) we decided to roll back.<p>We contacted with AWS Support (Business). The points more important in the transcript are:<p>- The fact that RDS decided to grow the disk from 200 GB to 999 GB, when the actual database size is 15 GB, it is not a problem.<p>- In the actual auto-scaling event a performance degradation while the auto scaling event is operational is expected. As &quot;sessions&quot;(1) are not being drop, from AWS the database is considered online so it is working as per expectations.<p>- Pointed out the example of a SELECT now() taking 20 seconds. This did not change the fact that the database is online and all is good.<p>- When asked for an estimation of the duration of the event, it was stated that could take &quot;from several minutes to several days&quot;.<p>- The objective of AWS Support is to communicate what is happening (implies that you should not expect them to help you to fix the actual problem)<p>-------<p>Opinions ?",
  "keywords": [],
  "author": {
    "@type": "Person",
    "name": "ruben81adelaide",
    "url": "https://news.ycombinator.com/user?id=ruben81adelaide"
  },
  "discussionUrl": "https://news.ycombinator.com/item?id=31231760",
  "sameAs": "https://news.ycombinator.com/item?id=31231760",
  "dateCreated": "2022-05-02T05:42:32.992Z",
  "datePublished": "2022-05-02T05:36:33.000Z",
  "dateModified": "2022-05-02T05:42:32.992Z",
  "interactionStatistic": [
    {
      "@type": "InteractionCounter",
      "interactionType": {
        "@type": "LikeAction"
      },
      "userInteractionCount": 2
    },
    {
      "@type": "InteractionCounter",
      "interactionType": {
        "@type": "CommentAction"
      },
      "userInteractionCount": 0
    }
  ]
}