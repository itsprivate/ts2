{
  "@type": "NewsArticle",
  "identifier": "2022--08--04--en--hackernews--HackerNews--NewsArticle--32340433",
  "url": "https://news.ycombinator.com/item?id=32340433",
  "headline": "Ask HN: ZFS native encryption vs LUKS",
  "publisher": {
    "@type": "Organization",
    "name": "HackerNews",
    "url": "https://news.ycombinator.com",
    "logo": "https://hn.buzzing.cc/avatar.png"
  },
  "description": "I use full disk encryption with LUKS to encrypt data at rest in Linux systems. Lately, ZFS has offered native encryption in Linux. I am thinking if new Linux systems should be encrypted with file system encryption (such as ZFS native encryption or ext4 with fscrypt) instead of full disk encryption (mostly LUKS).<p>I know some of the differences. For example, ZFS leaks some metadata, mostly dataset and snapshots names (which are useless in my case). LUKS encrypts everything, has a better KDF and multiple key slots, and is mature at this point. ZFS uses AES-GCM which is more complex but stronger than AES XTS.<p>Are there other reasons to use one versus the other? What do you choose?<p>Openzfs encryption is still rather new and I worry there might be bugs or pitfalls breaking confidentiality, or cause pool corruption.<p>Any feedback on the implementation quality of ZFS native encryption?",
  "keywords": [
    "Ask HN"
  ],
  "genre": "Ask HN",
  "author": {
    "@type": "Person",
    "name": "aborsy",
    "url": "https://news.ycombinator.com/user?id=aborsy"
  },
  "discussionUrl": "https://news.ycombinator.com/item?id=32340433",
  "sameAs": "https://news.ycombinator.com/item?id=32340433",
  "dateCreated": "2022-08-04T09:27:28.829Z",
  "datePublished": "2022-08-04T08:06:42.000Z",
  "dateModified": "2022-08-04T09:27:28.829Z",
  "interactionStatistic": [
    {
      "@type": "InteractionCounter",
      "interactionType": {
        "@type": "LikeAction"
      },
      "userInteractionCount": 7
    },
    {
      "@type": "InteractionCounter",
      "interactionType": {
        "@type": "CommentAction"
      },
      "userInteractionCount": 3
    }
  ],
  "headline_zh-Hans": "Ask HN: ZFS本地加密与LUKS\n",
  "headline_zh-Hant": "Ask HN: ZFS本地加密與LUKS\n",
  "@context": [
    "https://schema.org",
    {
      "@vocab": "http://schema.org/",
      "@language": "en",
      "headline_zh-Hans": {
        "@id": "headline",
        "@language": "zh-Hans"
      },
      "headline_zh-Hant": {
        "@id": "headline",
        "@language": "zh-Hant"
      },
      "@version": 1.1,
      "description_zh-Hans": {
        "@id": "description",
        "@language": "zh-Hans"
      },
      "description_zh-Hant": {
        "@id": "description",
        "@language": "zh-Hant"
      }
    }
  ],
  "description_zh-Hans": "我在Linux系统中使用LUKS的全盘加密来加密静止的数据。最近，ZFS在Linux中提供了原生加密功能。我在想，新的Linux系统是否应该用文件系统加密（如ZFS的本地加密或带有fscrypt的ext4）而不是全盘加密（主要是LUKS）。<p>我知道一些区别。例如，ZFS会泄露一些元数据，主要是数据集和快照的名称（在我的情况下是没有用的）。LUKS对所有东西进行加密，有更好的KDF和多个密钥槽，而且在这一点上是成熟的。ZFS使用AES-GCM，它比AES XTS更复杂但更强大。<p>是否有其他原因要使用其中一个而不是另一个？你选择什么？<p>Openzfs加密仍然相当新，我担心可能会有破坏保密性的错误或陷阱，或导致池损坏。<p>对ZFS本地加密的实施质量有任何反馈吗？\n",
  "description_zh-Hant": "我在Linux系統中使用LUKS的全盤加密來加密靜止的數據。最近，ZFS在Linux中提供了原生加密功能。我在想，新的Linux系統是否應該用文件系統加密（如ZFS的本地加密或帶有fscrypt的ext4）而不是全盤加密（主要是LUKS）。<p>我知道一些區別。例如，ZFS會洩露一些元數據，主要是數據集和快照的名稱（在我的情況下是沒有用的）。LUKS對所有東西進行加密，有更好的KDF和多個密鑰槽，而且在這一點上是成熟的。ZFS使用AES-GCM，它比AES XTS更復雜但更強大。<p>是否有其他原因要使用其中一個而不是另一個？你選擇什麼？<p>Openzfs加密仍然相當新，我擔心可能會有破壞保密性的錯誤或陷阱，或導致池損壞。<p>對ZFS本地加密的實施質量有任何反饋嗎？\n"
}