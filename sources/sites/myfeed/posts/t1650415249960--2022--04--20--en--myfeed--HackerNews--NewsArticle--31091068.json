{
  "@type": "NewsArticle",
  "identifier": "2022--04--20--en--myfeed--HackerNews--NewsArticle--31091068",
  "url": "https://news.ycombinator.com/item?id=31091068",
  "headline": "Adding a new option to tnftp – retrieve bytes within range",
  "publisher": {
    "@type": "Organization",
    "name": "HackerNews",
    "url": "https://news.ycombinator.com",
    "logo": "https://hn.buzzing.cc/avatar.png"
  },
  "description": "<p><pre><code>    version=20210827;\n    test -d ./tnftp-$version||exec echo ./tnftp-$version missing;\n    test ! -f ./tnftp-$version/.PATCHED||exec echo already patched;\n    set -e;\n    cd ./tnftp-$version;\n    ed make-static &lt;&lt; eof\n    i\n    ./configure --enable-ipv6=no\n    make;\n    cd src;\n    gcc -static -g -O2 -o tnftp tnftp-cmds.o tnftp-cmdtab.o tnftp-complete.o tnftp-domacro.o tnftp-fetch.o tnftp-ftp.o tnftp-main.o tnftp-progressbar.o tnftp-ruserpass.o tnftp-ssl.o tnftp-util.o  ../libnetbsd/.libs/libnetbsd.a -ledit -lssl -lcrypto -lcurses;\n    exit\n    .\n    wq\n    eof\n    ed src/fetch.c &lt;&lt; eof;\n    1143c\n    if(continuation!=1)\n    goto cleanup_fetch_url; \n    .\n    1141a\n    if(continuation!=1)\n    .\n    1094c\n    if(continuation!=1)\n    goto cleanup_fetch_url; \n    .\n    1091a\n    if (continuation!=1)\n    .\n    776a\n    const char *range;\n    if ((range = getenv(&quot;RANGE&quot;)) != NULL) {\n    if(continuation==1)fetch_printf(fin, &quot;Range: bytes=%s\\r\\n&quot;, range);\n    } \n    .\n    wq\n    eof\n    ed src/ftp_var.h &lt;&lt; eof;\n    206a\n    GLOBAL int continuation; /* specify RANGE */\n    .\n    wq\n    eof\n    ed src/main.c &lt;&lt; eof;\n    1070s/XFERSIZE]/&amp; [-c RANGE]/\n    .\n    300a\n    case 'c':\n    continuation = 1;\n    setenv(&quot;RANGE&quot;,optarg,1);\n    break;\n    .\n    #while((ch=getopt(argc,argv,...\n    279s/ad/ac:d/\n    .\n    wq\n    eof\n    echo &gt; .PATCHED;\n    sh make-static;</code></pre>",
  "keywords": [],
  "author": {
    "@type": "Person",
    "name": "1vuio0pswjnm7",
    "url": "https://news.ycombinator.com/user?id=1vuio0pswjnm7"
  },
  "discussionUrl": "https://news.ycombinator.com/item?id=31091068",
  "sameAs": "https://news.ycombinator.com/item?id=31091068",
  "dateCreated": "2022-04-20T00:40:49.960Z",
  "datePublished": "2022-04-20T00:05:58.000Z",
  "dateModified": "2022-04-20T00:40:49.960Z",
  "interactionStatistic": [
    {
      "@type": "InteractionCounter",
      "interactionType": {
        "@type": "LikeAction"
      },
      "userInteractionCount": 2
    },
    {
      "@type": "InteractionCounter",
      "interactionType": {
        "@type": "CommentAction"
      },
      "userInteractionCount": 1
    }
  ],
  "headline_zh-Hans": "为tnftp增加一个新选项--检索范围内的字节数",
  "headline_zh-Hant": "為tnftp增加一個新選項--檢索範圍內的字節數",
  "@context": [
    "https://schema.org",
    {
      "@vocab": "http://schema.org/",
      "@language": "en",
      "headline_zh-Hans": {
        "@id": "headline",
        "@language": "zh-Hans"
      },
      "headline_zh-Hant": {
        "@id": "headline",
        "@language": "zh-Hant"
      },
      "@version": 1.1,
      "description_zh-Hans": {
        "@id": "description",
        "@language": "zh-Hans"
      },
      "description_zh-Hant": {
        "@id": "description",
        "@language": "zh-Hant"
      }
    }
  ],
  "description_zh-Hans": "<p><pre><code> version=20210827;\n    test -d ./tnftp-$version||exec echo ./tnftp-$version missing;\n    测试! -f ./tnftp-$version/.PATCHED||exec echo 已经打了补丁。\n    set -e;\n    cd ./tnftp-$version;\n    ed make-static &lt;&lt; eof\n    i\n    ./configure --enable-ipv6=no\n    制作。\n    cd src;\n    gcc -static -g -O2 -o tnftp tnftp-cmds.o tnftp-cmdtab.o tnftp-complete.o tnftp-domacro.o tnftp-fetch.o tnftp-ftp.o tnftp-main。 o tnftp-progressbar.o tnftp-ruserpass.o tnftp-ssl.o tnftp-util.o ../libnetbsd/.libs/libnetbsd.a -ledit -lssl -lcrypto -lcurses;\n    退出\n    .\n    术语\n    读取\n    ed src/fetch.c &lt;&lt; eof;\n    1143c\n    如果(continuation!=1)\n    geto cleanup_fetch_url; \n    .\n    1141a\n    如果(continuation!=1)\n    .\n    1094c\n    如果(continuation!=1)\n    geto cleanup_fetch_url; \n    .\n    1091a\n    如果(continuation!=1)\n    .\n    776a\n    const char *range;\n    如果((range = getenv(&quot;RANGE&quot;)) != NULL) {\n    如果(continuation==1)fetch_printf(fin, &quot;Range: bytes=%s\\r\\n&quot;, range)。\n    } \n    .\n    wq\n    eof\n    ed src/ftp_var.h &lt;&lt; eof;\n    206a\n    全局 int continuation; /* 指定 RANGE */\n    .\n    wq\n    eof\n    ed src/main.c &lt;&lt; eof;\n    1070s/XFERSIZE]/&amp; [-c RANGE]/\n    .\n    300a\n    case 'c':\n    continuation = 1;\n    setenv(&quot;RANGE&quot;,optarg,1)。\n    休息。\n    .\n    #while((ch=getopt(argc,argv,...)\n    279s/ad/ac:d/\n    .\n    wq\n    eof\n    echo &gt; .PATCHED;\n    sh make-static;</code></pre>",
  "description_zh-Hant": "<p><pre><code> version=20210827;\n    test -d ./tnftp-$version||exec echo ./tnftp-$version missing;\n    測試! -f ./tnftp-$version/.PATCHED||exec echo 已經打了補丁。\n    set -e;\n    cd ./tnftp-$version;\n    ed make-static &lt;&lt; eof\n    i\n    ./configure --enable-ipv6=no\n    製作。\n    cd src;\n    gcc -static -g -O2 -o tnftp tnftp-cmds.o tnftp-cmdtab.o tnftp-complete.o tnftp-domacro.o tnftp-fetch.o tnftp-ftp.o tnftp-main。 o tnftp-progressbar.o tnftp-ruserpass.o tnftp-ssl.o tnftp-util.o ../libnetbsd/.libs/libnetbsd.a -ledit -lssl -lcrypto -lcurses;\n    退出\n    .\n    術語\n    讀取\n    ed src/fetch.c &lt;&lt; eof;\n    1143c\n    如果(continuation!=1)\n    geto cleanup_fetch_url; \n    .\n    1141a\n    如果(continuation!=1)\n    .\n    1094c\n    如果(continuation!=1)\n    geto cleanup_fetch_url; \n    .\n    1091a\n    如果(continuation!=1)\n    .\n    776a\n    const char *range;\n    如果((range = getenv(&quot;RANGE&quot;)) != NULL) {\n    如果(continuation==1)fetch_printf(fin, &quot;Range: bytes=%s\\r\\n&quot;, range)。\n    } \n    .\n    wq\n    eof\n    ed src/ftp_var.h &lt;&lt; eof;\n    206a\n    全局 int continuation; /* 指定 RANGE */\n    .\n    wq\n    eof\n    ed src/main.c &lt;&lt; eof;\n    1070s/XFERSIZE]/&amp; [-c RANGE]/\n    .\n    300a\n    case 'c':\n    continuation = 1;\n    setenv(&quot;RANGE&quot;,optarg,1)。\n    休息。\n    .\n    #while((ch=getopt(argc,argv,...)\n    279s/ad/ac:d/\n    .\n    wq\n    eof\n    echo &gt; .PATCHED;\n    sh make-static;</code></pre>"
}