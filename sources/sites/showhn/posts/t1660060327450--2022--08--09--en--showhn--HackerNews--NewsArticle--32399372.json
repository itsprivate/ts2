{
  "@type": "NewsArticle",
  "identifier": "2022--08--09--en--showhn--HackerNews--NewsArticle--32399372",
  "url": "https://news.ycombinator.com/item?id=32399372",
  "headline": "Show HN: Gsummarize – A CLI to summarize Google cloud storage buckets",
  "publisher": {
    "@type": "Organization",
    "name": "HackerNews",
    "url": "https://news.ycombinator.com",
    "logo": "https://hn.buzzing.cc/avatar.png"
  },
  "description": "Hello HN, I wanted to share a Python command line tool I developed to summarize Google cloud storage buckets.<p>I’m a data engineer, and have been spending a lot of time using Google’s Python cloud client libraries like gcloud and gsutil. I started a project that required summarizing files in a large cloud bucket (hundreds of terabytes), trying to answer questions like: what kinds of files are there? Which sub-directories are largest? Are there any duplicate files? I quickly became frustrated with the options from Google to complete this task on the command line, especially given tools like aws s3 ls that includes a --summarize option.<p>I started using the most obvious command, gsutil ls, to capture information about this massive cloud bucket like storage size, sub-directory size, file extensions, duplicate files, etc. While this command provides nearly all of this information for each individual blob, capturing it for summarization required a lot of grep and sed and xargs commands piped together. Not to mention the fact that for large cloud buckets, gsutil ls can take a few hours.<p>I quickly turned to Python and used the existing google-cloud-storage library to return this information in a better framework. But, I still wanted the option of a cloud bucket summary on the command line. So, I built the gsummarize CLI to handle this very case.<p>The tool has two main functions: summarize all of files and sub-directories in a provided Google Cloud Storage bucket by their storage size (and optionally their file extension), and compare CRC32C hash values of all files in a bucket to determine duplicate files. I also added features for authenticated users to output summary CSVs to Google Cloud Storage URIs, and to summarize/deduplicate sub-directories of buckets as well.<p>Now, myself and my team use gsummarize for a quick command line summary of Google Cloud Storage buckets. The source code is available on GitHub here: <a href=\"https://github.com/nashbio/gsummarize\" rel=\"nofollow\">https://github.com/nashbio/gsummarize</a>. Of course this tool is a work in progress and an open source project, so all suggestions and feedback are welcome. I hope you find it useful!",
  "keywords": [
    "Show HN"
  ],
  "genre": "Show HN",
  "author": {
    "@type": "Person",
    "name": "colemanrharris",
    "url": "https://news.ycombinator.com/user?id=colemanrharris"
  },
  "discussionUrl": "https://news.ycombinator.com/item?id=32399372",
  "sameAs": "https://github.com/nashbio/gsummarize",
  "dateCreated": "2022-08-09T15:52:07.450Z",
  "datePublished": "2022-08-09T15:34:06.000Z",
  "dateModified": "2022-08-09T15:52:07.450Z",
  "interactionStatistic": [
    {
      "@type": "InteractionCounter",
      "interactionType": {
        "@type": "LikeAction"
      },
      "userInteractionCount": 1
    },
    {
      "@type": "InteractionCounter",
      "interactionType": {
        "@type": "CommentAction"
      },
      "userInteractionCount": 0
    }
  ],
  "headline_zh-Hans": "Show HN: Gsummarize - 一个总结谷歌云存储桶的CLI\n",
  "headline_zh-Hant": "Show HN: Gsummarize - 一個總結谷歌雲存儲桶的CLI\n",
  "@context": [
    "https://schema.org",
    {
      "@vocab": "http://schema.org/",
      "@language": "en",
      "headline_zh-Hans": {
        "@id": "headline",
        "@language": "zh-Hans"
      },
      "headline_zh-Hant": {
        "@id": "headline",
        "@language": "zh-Hant"
      },
      "@version": 1.1,
      "description_zh-Hans": {
        "@id": "description",
        "@language": "zh-Hans"
      },
      "description_zh-Hant": {
        "@id": "description",
        "@language": "zh-Hant"
      }
    }
  ],
  "description_zh-Hans": "你好，HN，我想分享我开发的一个Python命令行工具，用于总结谷歌云存储桶。<p>我是一名数据工程师，一直在花大量时间使用谷歌的Python云客户端库，如gcloud和gsutil。我开始了一个项目，需要总结一个大的云存储桶（数百兆字节）中的文件，试图回答以下问题：有哪些类型的文件？哪些子目录是最大的？是否有任何重复的文件？我很快就对谷歌在命令行上完成这项任务的选项感到沮丧，特别是考虑到像aws s3 ls这样的工具，其中包括一个--summarize选项。<p>我开始使用最明显的命令，gsutil ls，来捕获关于这个巨大的云桶的信息，如存储大小、子目录大小、文件扩展名、重复文件等。虽然这个命令为每个单独的blob提供了几乎所有这些信息，但为总结而捕获这些信息需要大量的grep和sed以及xargs命令管道。更不用说对于大的云桶来说，gsutil ls可能需要几个小时。<p>我很快就转向了Python，并使用现有的google-cloud-storage库，在一个更好的框架内返回这些信息。但是，我仍然希望在命令行上有一个云桶摘要的选项。因此，我建立了gsummarize CLI来处理这种情况。<p>该工具有两个主要功能：根据存储大小（以及可选的文件扩展名）总结所提供的谷歌云存储桶中的所有文件和子目录，以及比较桶中所有文件的CRC32C哈希值以确定重复文件。I also added features for authenticated users to output summary CSVs to Google Cloud Storage URIs, and to summarize/deduplicate sub-directories of buckets as well.<p>Now, myself and my team use gsummarize for a quick command line summary of Google Cloud Storage buckets. The source code is available on GitHub here: <a href=\"https://github.com/nashbio/gsummarize\" rel=\"nofollow\">https://github.com/nashbio/gsummarize</a>. Of course this tool is a work in progress and an open source project, so all suggestions and feedback are welcome. I hope you find it useful!\n",
  "description_zh-Hant": "你好，HN，我想分享我開發的一個Python命令行工具，用於總結谷歌雲存儲桶。<p>我是一名數據工程師，一直在花大量時間使用谷歌的Python雲客戶端庫，如gcloud和gsutil。我開始了一個項目，需要總結一個大的雲存儲桶（數百兆字節）中的文件，試圖回答以下問題：有哪些類型的文件？哪些子目錄是最大的？是否有任何重複的文件？我很快就對谷歌在命令行上完成這項任務的選項感到沮喪，特別是考慮到像aws s3 ls這樣的工具，其中包括一個--summarize選項。<p>我開始使用最明顯的命令，gsutil ls，來捕獲關於這個巨大的雲桶的信息，如存儲大小、子目錄大小、文件擴展名、重複文件等。雖然這個命令為每個單獨的blob提供了幾乎所有這些信息，但為總結而捕獲這些信息需要大量的grep和sed以及xargs命令管道。更不用說對於大的雲桶來說，gsutil ls可能需要幾個小時。<p>我很快就轉向了Python，並使用現有的google-cloud-storage庫，在一個更好的框架內返回這些信息。但是，我仍然希望在命令行上有一個雲桶摘要的選項。因此，我建立了gsummarize CLI來處理這種情況。<p>該工具有兩個主要功能：根據存儲大小（以及可選的文件擴展名）總結所提供的谷歌雲存儲桶中的所有文件和子目錄，以及比較桶中所有文件的CRC32C哈希值以確定重複文件。I also added features for authenticated users to output summary CSVs to Google Cloud Storage URIs, and to summarize/deduplicate sub-directories of buckets as well.<p>Now, myself and my team use gsummarize for a quick command line summary of Google Cloud Storage buckets. The source code is available on GitHub here: <a href=\"https://github.com/nashbio/gsummarize\" rel=\"nofollow\">https://github.com/nashbio/gsummarize</a>. Of course this tool is a work in progress and an open source project, so all suggestions and feedback are welcome. I hope you find it useful!\n"
}