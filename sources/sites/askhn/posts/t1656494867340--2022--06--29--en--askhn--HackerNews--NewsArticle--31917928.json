{
  "@type": "NewsArticle",
  "identifier": "2022--06--29--en--askhn--HackerNews--NewsArticle--31917928",
  "url": "https://news.ycombinator.com/item?id=31917928",
  "headline": "Ask HN: Can a mutex have a race condition?",
  "publisher": {
    "@type": "Organization",
    "name": "HackerNews",
    "url": "https://news.ycombinator.com",
    "logo": "https://hn.buzzing.cc/avatar.png"
  },
  "description": "If two threads lock a mutex at the same time, wont both of them think they both hold the lock?<p>But then, if there’s a way to lock a mutex so that it’s impossible for two threads to do it at the same time, why not use that mechanism to modify whatever shared variable is in question?<p>I imagine that pthread or &lt;insert other threading library&gt;’s provided mutex is, internally, an integer which is set to 1 or 0 depending on the mutex’s state.<p>if i want to share an integer from my program with another thread, why cant I just use whatever is used by the mutex?",
  "keywords": [
    "Ask HN"
  ],
  "genre": "Ask HN",
  "author": {
    "@type": "Person",
    "name": "hahnchen",
    "url": "https://news.ycombinator.com/user?id=hahnchen"
  },
  "discussionUrl": "https://news.ycombinator.com/item?id=31917928",
  "sameAs": "https://news.ycombinator.com/item?id=31917928",
  "dateCreated": "2022-06-29T09:27:47.340Z",
  "datePublished": "2022-06-29T09:13:38.000Z",
  "dateModified": "2022-06-29T09:27:47.340Z",
  "interactionStatistic": [
    {
      "@type": "InteractionCounter",
      "interactionType": {
        "@type": "LikeAction"
      },
      "userInteractionCount": 1
    },
    {
      "@type": "InteractionCounter",
      "interactionType": {
        "@type": "CommentAction"
      },
      "userInteractionCount": 2
    }
  ],
  "headline_zh-Hans": "Ask HN: 一个突变体可以有一个竞赛条件吗？\n",
  "headline_zh-Hant": "Ask HN: 一個突變體可以有一個競賽條件嗎？\n",
  "@context": [
    "https://schema.org",
    {
      "@vocab": "http://schema.org/",
      "@language": "en",
      "headline_zh-Hans": {
        "@id": "headline",
        "@language": "zh-Hans"
      },
      "headline_zh-Hant": {
        "@id": "headline",
        "@language": "zh-Hant"
      },
      "@version": 1.1,
      "description_zh-Hans": {
        "@id": "description",
        "@language": "zh-Hans"
      },
      "description_zh-Hant": {
        "@id": "description",
        "@language": "zh-Hant"
      }
    }
  ],
  "description_zh-Hans": "如果两个线程同时锁定一个mutex，他们会不会都认为他们都持有这个锁呢？<p>但是，如果有办法锁定一个mutex，使两个线程不可能同时做，为什么不使用这个机制来修改任何有问题的共享变量？ <p>我想，pthread或&lt;插入其他线程库&gt;提供的mutex在内部是一个整数，根据mutex的状态被设置为1或0。<p>如果我想与另一个线程共享我程序中的一个整数，为什么我不能直接使用mutex使用的任何东西？\n",
  "description_zh-Hant": "如果兩個線程同時鎖定一個mutex，他們會不會都認為他們都持有這個鎖呢？<p>但是，如果有辦法鎖定一個mutex，使兩個線程不可能同時做，為什麼不使用這個機制來修改任何有問題的共享變量？ <p>我想，pthread或&lt;插入其他線程庫&gt;提供的mutex在內部是一個整數，根據mutex的狀態被設置為1或0。<p>如果我想與另一個線程共享我程序中的一個整數，為什麼我不能直接使用mutex使用的任何東西？\n"
}